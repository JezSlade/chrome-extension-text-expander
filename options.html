<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PromptExpander Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="options-container">
    <!-- Header -->
    <header class="options-header">
      <div class="header-content">
        <h1>PromptExpander Settings</h1>
        <p>Configure your AI prompt engineering toolkit</p>
      </div>
      <div class="header-actions">
        <button id="saveBtn" class="btn-primary">Save Changes</button>
      </div>
    </header>

    <!-- Navigation -->
    <nav class="options-nav">
      <button class="nav-btn active" data-section="snippets">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
        </svg>
        Snippets
      </button>
      <button class="nav-btn" data-section="templates">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
        </svg>
        Templates
      </button>
      <button class="nav-btn" data-section="settings">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z"/>
        </svg>
        Settings
      </button>
      <button class="nav-btn" data-section="analytics">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M22,21H2V3H4V19H6V17H10V19H12V16H16V19H18V17H22V21Z"/>
        </svg>
        Analytics
      </button>
    </nav>

    <!-- Main Content -->
    <main class="options-main">
      <!-- Snippets Section -->
      <section id="snippets-section" class="section active">
        <div class="section-header">
          <h2>Text Snippets</h2>
          <button id="addSnippetBtn" class="btn-secondary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"/>
            </svg>
            Add Snippet
          </button>
        </div>
        
        <div class="snippet-controls">
          <input type="text" id="snippetSearch" placeholder="Search snippets..." class="search-input">
          <select id="snippetFilter" class="filter-select">
            <option value="all">All Snippets</option>
            <option value="recent">Recently Used</option>
            <option value="favorites">Favorites</option>
          </select>
        </div>
        
        <div id="snippetsList" class="snippets-list">
          <!-- Snippets will be populated here -->
        </div>
      </section>

      <!-- Templates Section -->
      <section id="templates-section" class="section">
        <div class="section-header">
          <h2>Prompt Templates</h2>
          <button id="addTemplateBtn" class="btn-secondary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"/>
            </svg>
            Add Template
          </button>
        </div>
        
        <div id="templatesList" class="templates-list">
          <!-- Templates will be populated here -->
        </div>
      </section>

      <!-- Settings Section -->
      <section id="settings-section" class="section">
        <div class="section-header">
          <h2>General Settings</h2>
        </div>
        
        <div class="settings-grid">
          <div class="setting-group">
            <h3>Trigger Settings</h3>
            <div class="setting-item">
              <label for="triggerPrefix">Trigger Prefix:</label>
              <input type="text" id="triggerPrefix" value=":" maxlength="3">
              <small>Character(s) that trigger snippet expansion</small>
            </div>
          </div>
          
          <div class="setting-group">
            <h3>Exclusions</h3>
            <div class="setting-item">
              <label for="excludedDomains">Excluded Domains:</label>
              <textarea id="excludedDomains" placeholder="example.com&#10;another-site.com" rows="3"></textarea>
              <small>One domain per line</small>
            </div>
            <div class="setting-item">
              <label for="excludedSelectors">Excluded Selectors:</label>
              <textarea id="excludedSelectors" placeholder="input[type=&quot;password&quot;]&#10;.code-editor" rows="3"></textarea>
              <small>CSS selectors, one per line</small>
            </div>
          </div>
          
          <div class="setting-group">
            <h3>Features</h3>
            <div class="setting-item checkbox-item">
              <label>
                <input type="checkbox" id="omniboxEnabled" checked>
                <span class="checkmark"></span>
                Enable Omnibox Integration
              </label>
              <small>Type "px :trigger" in address bar</small>
            </div>
            <div class="setting-item checkbox-item">
              <label>
                <input type="checkbox" id="analyticsEnabled" checked>
                <span class="checkmark"></span>
                Enable Usage Analytics
              </label>
              <small>Track snippet usage for insights</small>
            </div>
          </div>
        </div>
      </section>

      <!-- Analytics Section -->
      <section id="analytics-section" class="section">
        <div class="section-header">
          <h2>Usage Analytics</h2>
        </div>
        
        <div class="analytics-grid">
          <div class="analytics-card">
            <h3>Top Snippets</h3>
            <div id="topSnippets" class="analytics-list">
              <!-- Top snippets will be populated here -->
            </div>
          </div>
          
          <div class="analytics-card">
            <h3>Daily Usage</h3>
            <div id="dailyUsage" class="analytics-chart">
              <!-- Usage chart will be populated here -->
            </div>
          </div>
          
          <div class="analytics-card">
            <h3>Platform Distribution</h3>
            <div id="platformStats" class="analytics-list">
              <!-- Platform stats will be populated here -->
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Modals -->
    <div id="snippetModal" class="modal">
      <div class="modal-backdrop"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="snippetModalTitle">Add Snippet</h3>
          <button class="close-btn">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="snippetKey">Trigger Key:</label>
            <input type="text" id="snippetKey" placeholder="e.g., hello">
          </div>
          <div class="form-group">
            <label for="snippetDescription">Description:</label>
            <input type="text" id="snippetDescription" placeholder="Brief description">
          </div>
          <div class="form-group">
            <label for="snippetContent">Content:</label>
            <textarea id="snippetContent" rows="6" placeholder="Enter your snippet content...&#10;&#10;Use variables like {{date}}, {{time}}, {{clipboard}}"></textarea>
          </div>
          <div class="form-group">
            <label>Variables:</label>
            <div class="variable-tags">
              <span class="variable-tag" data-var="{{date}}">{{date}}</span>
              <span class="variable-tag" data-var="{{time}}">{{time}}</span>
              <span class="variable-tag" data-var="{{datetime}}">{{datetime}}</span>
              <span class="variable-tag" data-var="{{clipboard}}">{{clipboard}}</span>
              <span class="variable-tag" data-var="{{page_title}}">{{page_title}}</span>
              <span class="variable-tag" data-var="{{page_url}}">{{page_url}}</span>
              <span class="variable-tag" data-var="{{selected_text}}">{{selected_text}}</span>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="cancelSnippet" class="btn-secondary">Cancel</button>
          <button id="saveSnippet" class="btn-primary">Save Snippet</button>
        </div>
      </div>
    </div>

    <div id="templateModal" class="modal">
      <div class="modal-backdrop"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="templateModalTitle">Add Template</h3>
          <button class="close-btn">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="templateKey">Template Key:</label>
            <input type="text" id="templateKey" placeholder="e.g., cot">
          </div>
          <div class="form-group">
            <label for="templateName">Name:</label>
            <input type="text" id="templateName" placeholder="e.g., Chain of Thought">
          </div>
          <div class="form-group">
            <label for="templatePre">Pre-text:</label>
            <textarea id="templatePre" rows="3" placeholder="Text to insert before content"></textarea>
          </div>
          <div class="form-group">
            <label for="templatePost">Post-text:</label>
            <textarea id="templatePost" rows="3" placeholder="Text to insert after content"></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button id="cancelTemplate" class="btn-secondary">Cancel</button>
          <button id="saveTemplate" class="btn-primary">Save Template</button>
        </div>
      </div>
    </div>
  </div>

  <script src="options.js"></script>
</body>
</html>